"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2896],{43212:(e,n,t)=>{t.r(n),t.d(n,{data:()=>s});const s={key:"v-50f134fa",path:"/vuepress-next/reference/plugin/git.html",title:"git",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Install",slug:"install",children:[]},{level:2,title:"Git Repository",slug:"git-repository",children:[]},{level:2,title:"Options",slug:"options",children:[{level:3,title:"createdTime",slug:"createdtime",children:[]},{level:3,title:"updatedTime",slug:"updatedtime",children:[]},{level:3,title:"contributors",slug:"contributors",children:[]}]},{level:2,title:"Page Data",slug:"page-data",children:[{level:3,title:"git.createdTime",slug:"git-createdtime",children:[]},{level:3,title:"git.updatedTime",slug:"git-updatedtime",children:[]},{level:3,title:"git.contributors",slug:"git-contributors",children:[]}]}],git:{updatedTime:1635758933e3,contributors:[{name:"shentuzhigang",email:"shentuzhigang@moresec.cn",commits:1}]},readingTime:{minutes:1.11,words:332},filePathRelative:"vuepress-next/reference/plugin/git.md",content:"# git\n\n<NpmBadge package=\"@vuepress/plugin-git\" />\n\nThis plugin will collect git information of your pages, including the created and updated time, the contributors, etc.\n\nThe [lastUpdated](../default-theme/config.md#lastupdated) and [contributors](../default-theme/config.md#contributors) of default theme is powered by this plugin.\n\nThis plugin is mainly used to develop themes. You won't need to use it directly in most cases.\n\n## Install\n\n```bash\nnpm i -D @vuepress/plugin-git@next\n```\n\n## Git Repository\n\nThis plugin requires your project to be inside a [Git Repository](https://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository), so that it can collect information from the commit history.\n\nYou should ensure all commits are available when building your site. For example, CI workflows usually clone your repository with [--depth 1](https://git-scm.com/docs/git-clone#Documentation/git-clone.txt---depthltdepthgt) to avoid fetching all commits, so you should disable the behavior to make this plugin work properly in CI.\n\n::: warning\nThis plugin will significantly slow down the speed of data preparation, especially when you have a lot of pages. You can consider disabling this plugin in `dev` mode to get better development experience.\n:::\n\n## Options\n\n### createdTime\n\n- Type: `boolean`\n\n- Default: `true`\n\n- Details:\n\n  Whether to collect page created time or not.\n\n### updatedTime\n\n- Type: `boolean`\n\n- Default: `true`\n\n- Details:\n\n  Whether to collect page updated time or not.\n\n### contributors\n\n- Type: `boolean`\n\n- Default: `true`\n\n- Details:\n\n  Whether to collect page contributors or not.\n\n## Page Data\n\nThis plugin will add a `git` field to page data.\n\nAfter using this plugin, you can get the collected git information in page data:\n\n```ts\nimport { usePageData } from '@vuepress/client'\nimport type { GitPluginPageData } from '@vuepress/client'\n\nexport default {\n  setup() {\n    const page = usePageData<GitPluginPageData>()\n    console.log(page.value.git)\n  }\n}\n```\n\n### git.createdTime\n\n- Type: `number`\n\n- Details:\n\n  Unix timestamp in milliseconds of the first commit of the page.\n\n### git.updatedTime\n\n- Type: `number`\n\n- Details:\n\n  Unix timestamp in milliseconds of the last commit of the page.\n\n### git.contributors\n\n- Type: `GitContributor[]`\n\n```ts\ninterface GitContributor {\n  name: string\n  email: string\n  commits: number\n}\n```\n\n- Details:\n\n  The contributors information of the page.\n"}},9074:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var s=t(66252);const a=(0,s._)("h1",{id:"git",tabindex:"-1"},[(0,s._)("a",{class:"header-anchor",href:"#git","aria-hidden":"true"},"#"),(0,s.Uk)(" git")],-1),l=(0,s._)("p",null,"This plugin will collect git information of your pages, including the created and updated time, the contributors, etc.",-1),i=(0,s.Uk)("The "),o=(0,s.Uk)("lastUpdated"),p=(0,s.Uk)(" and "),r=(0,s.Uk)("contributors"),c=(0,s.Uk)(" of default theme is powered by this plugin."),d=(0,s.uE)('<p>This plugin is mainly used to develop themes. You won&#39;t need to use it directly in most cases.</p><h2 id="install" tabindex="-1"><a class="header-anchor" href="#install" aria-hidden="true">#</a> Install</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/plugin-git@next</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="git-repository" tabindex="-1"><a class="header-anchor" href="#git-repository" aria-hidden="true">#</a> Git Repository</h2><p>This plugin requires your project to be inside a <a href="https://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository" target="_blank" rel="noopener noreferrer">Git Repository</a>, so that it can collect information from the commit history.</p><p>You should ensure all commits are available when building your site. For example, CI workflows usually clone your repository with <a href="https://git-scm.com/docs/git-clone#Documentation/git-clone.txt---depthltdepthgt" target="_blank" rel="noopener noreferrer">--depth 1</a> to avoid fetching all commits, so you should disable the behavior to make this plugin work properly in CI.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>This plugin will significantly slow down the speed of data preparation, especially when you have a lot of pages. You can consider disabling this plugin in <code>dev</code> mode to get better development experience.</p></div><h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2><h3 id="createdtime" tabindex="-1"><a class="header-anchor" href="#createdtime" aria-hidden="true">#</a> createdTime</h3><ul><li><p>Type: <code>boolean</code></p></li><li><p>Default: <code>true</code></p></li><li><p>Details:</p><p>Whether to collect page created time or not.</p></li></ul><h3 id="updatedtime" tabindex="-1"><a class="header-anchor" href="#updatedtime" aria-hidden="true">#</a> updatedTime</h3><ul><li><p>Type: <code>boolean</code></p></li><li><p>Default: <code>true</code></p></li><li><p>Details:</p><p>Whether to collect page updated time or not.</p></li></ul><h3 id="contributors" tabindex="-1"><a class="header-anchor" href="#contributors" aria-hidden="true">#</a> contributors</h3><ul><li><p>Type: <code>boolean</code></p></li><li><p>Default: <code>true</code></p></li><li><p>Details:</p><p>Whether to collect page contributors or not.</p></li></ul><h2 id="page-data" tabindex="-1"><a class="header-anchor" href="#page-data" aria-hidden="true">#</a> Page Data</h2><p>This plugin will add a <code>git</code> field to page data.</p><p>After using this plugin, you can get the collected git information in page data:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">usePageData</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;@vuepress/client&#39;</span></span>\n<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">type</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">GitPluginPageData</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;@vuepress/client&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#DCDCAA;">setup</span><span style="color:#D4D4D4;">() {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">page</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">usePageData</span><span style="color:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;">GitPluginPageData</span><span style="color:#D4D4D4;">&gt;()</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">console</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">log</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">page</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">git</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"><span style="color:#D4D4D4;">  }</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="git-createdtime" tabindex="-1"><a class="header-anchor" href="#git-createdtime" aria-hidden="true">#</a> git.createdTime</h3><ul><li><p>Type: <code>number</code></p></li><li><p>Details:</p><p>Unix timestamp in milliseconds of the first commit of the page.</p></li></ul><h3 id="git-updatedtime" tabindex="-1"><a class="header-anchor" href="#git-updatedtime" aria-hidden="true">#</a> git.updatedTime</h3><ul><li><p>Type: <code>number</code></p></li><li><p>Details:</p><p>Unix timestamp in milliseconds of the last commit of the page.</p></li></ul><h3 id="git-contributors" tabindex="-1"><a class="header-anchor" href="#git-contributors" aria-hidden="true">#</a> git.contributors</h3><ul><li>Type: <code>GitContributor[]</code></li></ul><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">interface</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">GitContributor</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">string</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">email</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">string</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">commits</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">number</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p>Details:</p><p>The contributors information of the page.</p></li></ul>',26),u={},h=(0,t(83744).Z)(u,[["render",function(e,n){const t=(0,s.up)("NpmBadge"),u=(0,s.up)("RouterLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a,(0,s.Wm)(t,{package:"@vuepress/plugin-git"}),l,(0,s._)("p",null,[i,(0,s.Wm)(u,{to:"/vuepress-next/reference/default-theme/config.html#lastupdated"},{default:(0,s.w5)((()=>[o])),_:1}),p,(0,s.Wm)(u,{to:"/vuepress-next/reference/default-theme/config.html#contributors"},{default:(0,s.w5)((()=>[r])),_:1}),c]),d],64)}]])}}]);