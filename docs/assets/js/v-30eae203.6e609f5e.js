"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5631],{11270:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a={key:"v-30eae203",path:"/zh/vuepress-next/reference/plugin/google-analytics.html",title:"google-analytics",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"安装",slug:"安装",children:[]},{level:2,title:"上报事件",slug:"上报事件",children:[]},{level:2,title:"配置项",slug:"配置项",children:[{level:3,title:"id",slug:"id",children:[]}]}],git:{updatedTime:1635758933e3,contributors:[{name:"shentuzhigang",email:"shentuzhigang@moresec.cn",commits:1}]},readingTime:{minutes:.86,words:257},filePathRelative:"zh/vuepress-next/reference/plugin/google-analytics.md",content:"# google-analytics\n\n<NpmBadge package=\"@vuepress/plugin-google-analytics\" />\n\n将 [Google Analytics](https://analytics.google.com/) 集成到 VuePress 中。\n\n该插件会通过引入 [gtag.js](https://developers.google.com/analytics/devguides/collection/gtagjs) 来启用 [Google Analytics 4](https://support.google.com/analytics/answer/10089681) 。\n\n## 安装\n\n```bash\nnpm i -D @vuepress/plugin-google-analytics@next\n```\n\n## 上报事件\n\nGoogle Analytics 会 [自动收集部分事件](https://support.google.com/analytics/answer/9234069) ，比如 `page_view`, `first_visit` 等。\n\n因此，如果你只是想收集站点的一些基础数据，你只需要正确设置 [Measurement ID](#id) ，不需要再额外做其他事情。\n\n在引入该插件之后，一个全局的 `gtag()` 函数会被挂载到 `window` 对象上，你可以使用它进行 [自定义事件的上报](https://developers.google.com/analytics/devguides/collection/ga4/events) 。\n\n## 配置项\n\n### id\n\n- 类型： `string`\n\n- 详情：\n\n  Google Analytics 4 的 Measurement ID ，应以 `'G-'` 开头。\n\n  你可以通过 [这里](https://support.google.com/analytics/answer/9539598) 的指引来找到你的 Measurement ID 。注意区分 Google Analytics 4 的 Measurement ID （即 \"G-\" 开头的 ID） 和 Universal Analytics 的 Tracking ID （即 \"UA-\" 开头的 ID）。\n\n- 示例：\n\n```js\nmodule.exports = {\n  plugins: [\n    [\n      '@vuepress/plugin-google-analytics',\n      {\n        id: 'G-XXXXXXXXXX',\n      },\n    ],\n  ],\n}\n```\n"}},9237:(e,n,s)=>{s.r(n),s.d(n,{default:()=>t});var a=s(66252);const l=(0,a._)("h1",{id:"google-analytics",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#google-analytics","aria-hidden":"true"},"#"),(0,a.Uk)(" google-analytics")],-1),o=(0,a.uE)('<p>将 <a href="https://analytics.google.com/" target="_blank" rel="noopener noreferrer">Google Analytics</a> 集成到 VuePress 中。</p><p>该插件会通过引入 <a href="https://developers.google.com/analytics/devguides/collection/gtagjs" target="_blank" rel="noopener noreferrer">gtag.js</a> 来启用 <a href="https://support.google.com/analytics/answer/10089681" target="_blank" rel="noopener noreferrer">Google Analytics 4</a> 。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/plugin-google-analytics@next</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="上报事件" tabindex="-1"><a class="header-anchor" href="#上报事件" aria-hidden="true">#</a> 上报事件</h2><p>Google Analytics 会 <a href="https://support.google.com/analytics/answer/9234069" target="_blank" rel="noopener noreferrer">自动收集部分事件</a> ，比如 <code>page_view</code>, <code>first_visit</code> 等。</p><p>因此，如果你只是想收集站点的一些基础数据，你只需要正确设置 <a href="#id">Measurement ID</a> ，不需要再额外做其他事情。</p><p>在引入该插件之后，一个全局的 <code>gtag()</code> 函数会被挂载到 <code>window</code> 对象上，你可以使用它进行 <a href="https://developers.google.com/analytics/devguides/collection/ga4/events" target="_blank" rel="noopener noreferrer">自定义事件的上报</a> 。</p><h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项" aria-hidden="true">#</a> 配置项</h2><h3 id="id" tabindex="-1"><a class="header-anchor" href="#id" aria-hidden="true">#</a> id</h3><ul><li><p>类型： <code>string</code></p></li><li><p>详情：</p><p>Google Analytics 4 的 Measurement ID ，应以 <code>&#39;G-&#39;</code> 开头。</p><p>你可以通过 <a href="https://support.google.com/analytics/answer/9539598" target="_blank" rel="noopener noreferrer">这里</a> 的指引来找到你的 Measurement ID 。注意区分 Google Analytics 4 的 Measurement ID （即 &quot;G-&quot; 开头的 ID） 和 Universal Analytics 的 Tracking ID （即 &quot;UA-&quot; 开头的 ID）。</p></li><li><p>示例：</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">plugins:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#CE9178;">&#39;@vuepress/plugin-google-analytics&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">id:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;G-XXXXXXXXXX&#39;</span><span style="color:#D4D4D4;">,</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">    ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>',12),r={},t=(0,s(83744).Z)(r,[["render",function(e,n){const s=(0,a.up)("NpmBadge");return(0,a.wg)(),(0,a.iD)(a.HY,null,[l,(0,a.Wm)(s,{package:"@vuepress/plugin-google-analytics"}),o],64)}]])}}]);